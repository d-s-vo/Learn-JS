{"version":3,"file":"bundle.js","mappings":";;;;;;;;;AAAA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA,uDAAuD;AACvD;AACA,cAAc;AACd;;AAEA,0BAA0B;AAC1B;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA,kDAAkD,aAAa;;AAE/D;AACA;AACA;;AAEA,4CAA4C;;AAE5C;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;AC3GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,sCAAsC,SAAS,SAAS,SAAS;AACjE,oCAAoC,WAAW;AAC/C,oCAAoC,WAAW;AAC/C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uCAAuC,IAAI,YAAY,YAAY,IAAI;AACvE;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,sBAAsB;AACtC;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF,CAAC;AACD;;AAEA;;;;;;;;;;ACnEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB,mCAAmC;AACnD;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA;;AAEA;;;;;;;;;;ACvCA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;;;;;UCtBA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;;;;;ACtBA;AACA;AACA,uBAAuB,mBAAO,CAAC,wDAAsB;AACrD,uBAAuB,mBAAO,CAAC,wDAAsB;AACrD,sBAAsB,mBAAO,CAAC,sDAAqB;AACnD,wBAAwB,mBAAO,CAAC,0DAAuB;AACvD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0EAA0E;AAC1E;AACA;AACA;AACA;AACA;AACA,2BAA2B,uBAAuB,SAAS,eAAe;AAC1E,gFAAgF;AAChF,aAAa;AACb,WAAW;AACX;AACA;AACA,0EAA0E;AAC1E;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA,gCAAgC;AAChC;AACA,+BAA+B;AAC/B,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,WAAW,aAAa,cAAc,aAAa,UAAU;AAC9F;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kB","sources":["webpack://classespractice/./js/modules/calculator.js","webpack://classespractice/./js/modules/cardsample.js","webpack://classespractice/./js/modules/postingform.js","webpack://classespractice/./js/modules/showmodal.js","webpack://classespractice/webpack/bootstrap","webpack://classespractice/./js/classes.js"],"sourcesContent":["function calculator (){\n\n  const result = document.querySelector('.calculating__result span');\n  let sex, height, weight, age,\n      ratio =  1.375;\n\n  if (localStorage.getItem('sex')){\n    sex = localStorage.getItem('sex');\n  } else {\n    sex = 'female';\n    localStorage.setItem('sex', 'male');\n  }\n  if (localStorage.getItem('ratio')){\n    ratio = localStorage.getItem('ratio');\n  } else {\n    ratio = 1.375;\n    localStorage.setItem('ratio', 1.375);\n  }\n\n  function calcTotal () {\n    if (!sex || !height || !weight || !age || !ratio){ //проверка чтобы все поля были заполнены\n      result.textContent  = \"Введите все значения!\";\n      return; //return прерывает работу фунции calcTotal\n    }\n\n    if (sex == 'female'){ //формула рассчитывающая каллорийность у мужчин и женщин\n      result.textContent = Math.round((447,6 + (9,2 * weight) + (3,2 * height) - (4,3 * age)) * ratio);\n    } else {\n      result.textContent = Math.round((88,6 + (13,4 * weight) + (4,8 * height) - (5,7 * age)) * ratio);\n    }\n  }\n  calcTotal(); \n\n  function getStaticData (parSelector, activeClass) {\n    const elements = document.querySelectorAll(`${parSelector} div`); \n\n   \n    \n    elements.forEach(item => {\n\n      item.addEventListener('click', (e)=>{ //повесил обработчик на дивы внутри родителя с id = \"gender\" и теперь теперь функция срабатывает только при нажатии на соответствующий див\n\n        if (e.target.getAttribute('data-ratio')) {\n          ratio = +e.target.getAttribute('data-ratio');\n          localStorage.setItem('ratio', +e.target.getAttribute('data-ratio'));\n          localStorage.setItem('marked', 'done');\n        } else {\n          sex = e.target.getAttribute('id');\n          localStorage.setItem('sex', e.target.getAttribute('id'));\n          localStorage.setItem('marked', 'done');\n        }\n\n        console.log(ratio, sex);\n        elements.forEach(elem => {\n          elem.classList.remove(activeClass);\n      });\n        e.target.classList.add(activeClass);\n        \n        calcTotal();\n      });\n    \n    });\n\n    elements.forEach(elem => {\n      // elem.classList.remove(activeClass);\n      if(elem.getAttribute('id') === localStorage.getItem('sex')){\n        elem.classList.add(activeClass);\n      }\n      if(elem.getAttribute('data-ratio') === localStorage.getItem('ratio')){\n        elem.classList.add(activeClass);\n      }\n    });\n  }\n\n  getStaticData('#gender', 'calculating__choose-item-marked');\n  getStaticData('.calculating__choose-activity', 'calculating__choose-item-marked'); \n\n  function getDynamicData(selector){\n    const input = document.querySelector(selector);\n          \n    input.addEventListener('input', () => {\n      this.input = input;\n      // console.log(this.input);\n\n      if (input.value.match(/\\D/g)){\n        alert(`Ввели не верное значение в поле ${this.input.id}`);   \n      }\n\n      switch (input.getAttribute('id')) {\n        case 'height':\n           height = +input.value;\n          break;\n        case 'weight':\n          weight = +input.value;\n          break;\n        case 'age':\n          age = +input.value;\n          break;     \n      }\n      calcTotal();\n    });\n  } \n  getDynamicData('#height');\n  getDynamicData('#weight'); \n  getDynamicData('#age');\n}\n\nmodule.exports = calculator;","function cardsample() {\n     //Шаблон для карточек и их вызов с сервера при еажатии на стрелки\n  //Конструктор карточек \n   class BeerCard {\n    constructor (src, alt, title, descr, parentSelector, ...classes) {\n      this.src = src;\n      this.alt = alt;\n      this.title = title;\n      this.descr = descr;\n      this.classes = classes;\n      this.parent = document.querySelector(parentSelector);\n    }\n\n    render () {\n        const element = document.createElement('div');\n        if(this.classes.length === 0){\n            const classToAdd = 'beerCard';\n            element.classList.add(classToAdd);\n        } else {\n            this.classes.forEach(className => element.classList.add(className));\n        }\n        element.innerHTML = `\n          <img class=\"beerImg\" src=\"${this.src}\" alt=\"${this.alt}\">\n          <h3 class=\"beerHeader\">\"${this.title}\"</h3>\n          <div class=\"beerDescr\">\"${this.descr}\"</class> \n        `;\n        this.parent.append(element);\n    }\n }\n\n const getCard = async (url) => {\n  const resp = await fetch(url);\n  if(!resp.ok){\n   throw new Error (`Could not fetch ${url}, status: ${resp.status}`); // throw выносит команду наружу из функции, new Error команда вызывающая ошибку(чтобы точно отработал catch, т.к fetch замечает не все ошибки)\n  }\n  return await resp.json();\n}; \n\n//Slider\n\nconst prev = document.querySelector('.offer__slider-prev'),\n    next = document.querySelector('.offer__slider-next');\nlet slideIndex = 2;\n\ngetCard('http://localhost:3000/menu')\n.then(data => {\nfunction showSlides (n = 2) {\n data.forEach(({src, id, title, descr}) => {  \n  if (id === n){\n    new BeerCard(src, id, title, descr, '.beerConteiner').render();\n  }  \n});\n}\nshowSlides();\nfunction plusSlide (n) {\n  showSlides(slideIndex += n);\n }\n\n prev.addEventListener ('click', () =>{\n  plusSlide(-1);\n });\n next.addEventListener('click', (event) => {\n  plusSlide(1);\n }); \n});\n}\n\nmodule.exports = cardsample;","function postingform () {\n      // Постинг на сервер через форму\n   const forms = document.querySelector('.firstform');\n\n   bindPostData(forms); \n   \n   const postData = async (url, data) => {\n     const resp = await fetch(url, {\n      method: 'POST',\n      headers: {'Content-type': 'application/json'},\n      body: data\n     }); \n     return await resp.json();\n   }; \n\n   function bindPostData (form) {\n    form.addEventListener ('submit', (e)=>{\n      e.preventDefault();\n      \n      const formData = new FormData(form);\n      const obj = {};\n      formData.forEach(function(value, key){\n         obj[key] = value;\n      });\n      \n      const jObj = JSON.stringify(obj);\n      console.log(jObj);\n\n      postData('http://localhost:3000/menu', jObj)\n      .then(data => {\n        console.log(data);\n      })\n      .finally(()=>{\n        form.reset();\n      });\n     }); \n    }\n}\n\nmodule.exports = postingform;","function showmodal () {\n\n  // Вызов и закрытие модального окна\n   const modalBtn = document.querySelector('.btnmodal'),\n   modalWindow = document.querySelector('.modal');\n\n  modalBtn.addEventListener('click', ()=>{\n  modalWindow.classList.add('modal_show');\n  });    \n\n  modalWindow.addEventListener('click', (e)=>{\n  if(e.target === modalWindow || e.target.getAttribute('data-close') == \"\"){\n    modalWindow.classList.remove('modal_show');\n  }\n  });\n  document.addEventListener('keydown', (e)=>{\n  if (e.code === 'Escape'){\n    modalWindow.classList.remove('modal_show');\n  }\n  });\n}\n\nmodule.exports = showmodal;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","document.addEventListener('DOMContentLoaded', () => {\r\n  \r\n    const calculator = require('./modules/calculator'),\r\n          cardsample = require('./modules/cardsample'),\r\n          showmodal = require('./modules/showmodal'),\r\n          postingform = require('./modules/postingform');\r\n\r\n          calculator();\r\n          cardsample();\r\n          postingform();\r\n          showmodal();\r\n}); \r\n \r\n\r\n\r\n\r\n  \r\n\r\n\r\n\r\n  // строка 82\r\n  // const json = JSON.stringify(Object.fromEntries(formData.entries())); //Создает массив собственных перечисляемых значений объектов, полученных из формы, потом .fromEntries разбивает массив на отдельные объекты.\r\n\r\n  //строка 108\r\n  // getCard('http://localhost:3000/menu')  fetch который получает и отрисовывает карточки на странице\r\n    //    .then(data => {\r\n    //      console.log(data);\r\n    //      data.forEach(({src, alt, title, descr}) => {   //С помощью {} деструктуризировали объект полученный с сервера и как переменные указали его ключи\r\n    //        new BeerCard(src, alt, title, descr, '.beerConteiner').render();  //Переменные передали аргументами в конструктор карточек\r\n    //      });\r\n    //    });\r\n\r\n  //  строка 170\r\n  // document.querySelector(parSelector).addEventListener('click', (e)=>{ //повесил обработчик на \"родителя\" и он срабатывает на всю область а не только на дочерние элементы\r\n  //   if (e.target.getAttribute('data-ratio')) {\r\n  //     ratio = +e.target.getAttribute('data-ratio');\r\n  //   } else {\r\n  //     sex = e.target.getAttribute('id');\r\n  //   }\r\n  //   console.log(ratio, sex);\r\n  //   elements.forEach(elem => {\r\n  //     elem.classList.remove(activeClass);\r\n  // });\r\n  //   e.target.classList.add(activeClass);\r\n  //   calcTotal();\r\n  // });\r\n\r\n  // showSlides(slideIndex);    Функция которая которая перебирает карточки при нажатии на стрелки навигации\r\n  //   function showSlides (n) {       \r\n  //    if (n > data.length) { slideIndex = 2; }\r\n  //    if (n < 1) { slideIndex = data.length; }\r\n  // function plusSlide (n) {\r\n  //   showSlides(slideIndex += n);\r\n  //  }\r\n  // }\r\n  //  prev.addEventListener ('click', () =>{\r\n  //   plusSlide(-1);\r\n  //  });\r\n  //  next.addEventListener('click', (event) => {\r\n  //   plusSlide(1);\r\n  //   console.log(event);\r\n  //  }); \r\n\r\n\r\n  // //Практика с регулярными выражениями и методами строки\r\n  //const logg = \"Велосипед - это 109988980 процентов лучший спортивный снаряд\";\r\n  //console.dir(logg.match(/\\w/g).join('').slice(0, 6)); //выбрал в троке только числаю полученный массив преобразовал в строку и вырезал символы до 6 позиции\r\n\r\n\r\n  // //Практическся работа по инкапсуляции\r\n  // class User {\r\n  //   constructor (name, age) {\r\n  //     this._name = name;\r\n  //     this._age = age;\r\n  //   }\r\n  //   #surname = 'Smirnov';\r\n  //   say = () => {\r\n  //     console.log(`Фамилия: ${this._name}, фамилия: ${this.#surname}, возраст: ${this._age}`);\r\n  //   }\r\n  //   get surname(){    //с помощью get и set \"вывел наружу\" значение приватного свойства #surname\r\n  //     return this.#surname;\r\n  //   }\r\n  //   set surname(sur) {\r\n  //     this.#surname = sur;\r\n  //   }\r\n  //   get name() {\r\n  //     return this._age;\r\n  //   }\r\n  //   set name(name) {\r\n  //     this._name = name;\r\n  //   }\r\n  // }  \r\n  // const dmitry = new User (\"Dmitry\", 32);\r\n  // dmitry.name = \"Ivan\";\r\n  // dmitry.surname = \"Stepanov\";\r\n  // dmitry.say();"],"names":[],"sourceRoot":""}